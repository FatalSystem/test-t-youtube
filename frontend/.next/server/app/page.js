(()=>{var e={};e.id=974,e.ids=[974],e.modules={477:(e,r,s)=>{Promise.resolve().then(s.bind(s,8902))},526:(e,r,s)=>{Promise.resolve().then(s.bind(s,6538))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1766:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,5770,23)),Promise.resolve().then(s.t.bind(s,8204,23)),Promise.resolve().then(s.t.bind(s,2576,23)),Promise.resolve().then(s.t.bind(s,9507,23)),Promise.resolve().then(s.t.bind(s,1283,23)),Promise.resolve().then(s.t.bind(s,5147,23)),Promise.resolve().then(s.t.bind(s,3163,23)),Promise.resolve().then(s.t.bind(s,9773,23))},2861:(e,r,s)=>{Promise.resolve().then(s.bind(s,9225))},3006:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(7025),a=s(8198),n=s(2576),i=s.n(n),o=s(5239),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9225)),"/Users/admin/wk-prj/test-t-youtube/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9650)),"/Users/admin/wk-prj/test-t-youtube/frontend/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,4314)),"/Users/admin/wk-prj/test-t-youtube/frontend/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,3117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,6874,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/admin/wk-prj/test-t-youtube/frontend/app/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3675:(e,r,s)=>{"use strict";s.d(r,{S:()=>d});var t=s(2897),a=s(4021),n=s(681),i=s(1702);let o=(0,t.$)({uri:"https://test-t-youtube-production.up.railway.app/graphql",credentials:"include"}),l=(0,i.S)(({graphQLErrors:e,networkError:r})=>{e&&e.forEach(({message:e,locations:r,path:s})=>console.error(`[GraphQL error]: Message: ${e}, Location: ${r}, Path: ${s}`)),r&&console.error(`[Network error]: ${r}`)}),d=new a.R({link:l.concat(o),cache:new n.D({typePolicies:{Query:{fields:{searchVideos:{merge:(e,r)=>r}}}}}),defaultOptions:{watchQuery:{fetchPolicy:"network-only",errorPolicy:"all"},query:{fetchPolicy:"network-only",errorPolicy:"all"}}})},3873:e=>{"use strict";e.exports=require("path")},4238:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var t=s(5781),a=s(3072),n=s(1042),i=s(7990),o=s(7401);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...i},d)=>{let c=a?n.DX:"button";return(0,t.jsx)(c,{className:(0,o.cn)(l({variant:r,size:s,className:e})),ref:d,...i})});d.displayName="Button"},4314:(e,r,s)=>{"use strict";function t(){return null}s.r(r),s.d(r,{default:()=>t})},4761:()=>{},4784:(e,r,s)=>{"use strict";s.d(r,{Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o});var t=s(5781),a=s(3072),n=s(7401);let i=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle",a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},5290:()=>{},6538:(e,r,s)=>{"use strict";s.d(r,{Providers:()=>i});var t=s(5781),a=s(2318),n=s(3675);function i({children:e}){return(0,t.jsx)(a.X,{client:n.S,children:e})}},6872:(e,r,s)=>{"use strict";s.d(r,{Providers:()=>t});let t=(0,s(1129).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/admin/wk-prj/test-t-youtube/frontend/app/providers.tsx","Providers")},6966:(e,r,s)=>{Promise.resolve().then(s.bind(s,6872))},7401:(e,r,s)=>{"use strict";s.d(r,{Y:()=>i,cn:()=>n});var t=s(2366),a=s(3927);function n(...e){return(0,a.QP)((0,t.$)(e))}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},8313:()=>{},8622:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,140,23)),Promise.resolve().then(s.t.bind(s,8946,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,6229,23)),Promise.resolve().then(s.t.bind(s,1281,23)),Promise.resolve().then(s.t.bind(s,6214,23)),Promise.resolve().then(s.t.bind(s,7857,23)),Promise.resolve().then(s.t.bind(s,4947,23))},8902:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>O});var t=s(5781),a=s(3072),n=s(2752);let i=(0,n.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var o=s(3583);let l=(0,n.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),d=(0,n.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var c=s(4238),u=s(2710),m=s(7401);let h=a.forwardRef(({className:e,type:r,...s},a)=>(0,t.jsx)("input",{type:r,className:(0,m.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));h.displayName="Input";var x=s(7317),p=s(8298),f=s(3675);let v=(0,p.J1)`
  query Search($input: SearchInput!) {
    searchVideos(input: $input) {
      results {
        videoId
        title
        description
        thumbnailUrl
        publishedAt
      }
      totalResults
      nextPageToken
      prevPageToken
    }
  }
`,y=(0,p.J1)`
  mutation AddToHistory($query: String!, $resultsCount: Float!) {
    addToHistory(query: $query, resultsCount: $resultsCount)
  }
`,g=(0,x.v)((e,r)=>({query:"",allResults:[],totalResults:0,nextPageToken:void 0,hasMore:!1,hasSearched:!1,isLoading:!1,isLoadingMore:!1,error:null,setQuery:r=>e({query:r}),performSearch:async(s,t=!0)=>{t?e({isLoading:!0,error:null,allResults:[],nextPageToken:void 0}):e({isLoadingMore:!0,error:null});try{let{data:a}=await f.S.query({query:v,variables:{input:{q:s,pageToken:t?void 0:r().nextPageToken}}}),n=a.searchVideos.results,i=a.searchVideos.totalResults,o=a.searchVideos.nextPageToken;e(e=>({query:s,allResults:t?n:[...e.allResults,...n],totalResults:i,nextPageToken:o,hasMore:!!o,hasSearched:!0,isLoading:!1,isLoadingMore:!1,error:null})),await f.S.mutate({mutation:y,variables:{query:s.trim(),resultsCount:n.length}})}catch(r){e({isLoading:!1,isLoadingMore:!1,error:r instanceof Error?r.message:"Failed to perform search"})}},loadMore:async()=>{let{query:s,nextPageToken:t,isLoadingMore:a}=r();if(t&&!a)try{await r().performSearch(s,!1)}catch(r){e({isLoadingMore:!1,error:r instanceof Error?r.message:"Failed to load more results"})}},setError:r=>e({error:r}),resetSearch:()=>{e({query:"",allResults:[],totalResults:0,nextPageToken:void 0,hasMore:!1,hasSearched:!1,error:null})},clearResults:()=>{e({allResults:[],totalResults:0,nextPageToken:void 0,hasMore:!1})},handleVideoClick:e=>{window.location.href=`/video/${e}`}}));function j(){let{query:e,setQuery:r,isLoading:s,performSearch:a}=g();return(0,t.jsxs)("div",{className:"relative max-w-2xl",children:[(0,t.jsx)(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(h,{type:"text",placeholder:"Search for videos...",value:e,onChange:e=>r(e.target.value),onKeyPress:r=>{"Enter"===r.key&&e.trim()&&a(e,!0)},className:"pl-10 pr-4 py-2 text-base"}),(0,t.jsx)(c.$,{onClick:()=>a(e,!0),disabled:!e.trim()||s,className:"absolute right-1 top-1/2 transform -translate-y-1/2",size:"sm",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):"Search"})]})}let b=(0,n.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var N=s(3476),w=s(4784);function k({className:e,...r}){return(0,t.jsx)("div",{className:(0,m.cn)("animate-pulse rounded-md bg-muted",e),...r})}function P(){return(0,t.jsxs)(w.Zp,{className:"overflow-hidden",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(k,{className:"w-full h-48"})}),(0,t.jsxs)(w.Wu,{className:"p-4",children:[(0,t.jsx)(k,{className:"h-5 w-3/4 mb-2"}),(0,t.jsx)(k,{className:"h-4 w-full mb-2"}),(0,t.jsx)(k,{className:"h-4 w-1/2 mb-2"}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(k,{className:"h-3 w-24"})})]})]})}function q(){let{query:e,allResults:r,totalResults:s,isLoading:n,isLoadingMore:o,hasMore:l,loadMore:d,handleVideoClick:c}=g(),h=(0,a.useRef)(null),x=(0,a.useCallback)(e=>{!o&&(h.current&&h.current.disconnect(),h.current=new IntersectionObserver(e=>{e[0].isIntersecting&&l&&d()}),e&&h.current.observe(e))},[o,l,d]);return n?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(k,{className:"h-7 w-64"}),(0,t.jsx)(k,{className:"h-5 w-32"})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,r)=>(0,t.jsx)(P,{},r))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[e.trim()&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:['Search Results for "',e,'"']}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[r.length," of ",s.toLocaleString()," results"]})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map((e,s)=>(0,t.jsxs)(w.Zp,{ref:s===r.length-1?x:null,className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>c(e.videoId),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.thumbnailUrl||"/placeholder.svg",alt:e.title,className:"w-full h-48 object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:(0,t.jsx)(b,{className:"h-12 w-12 text-white"})})]}),(0,t.jsxs)(w.Wu,{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm line-clamp-2 mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-1"}),(0,m.Y)(e.publishedAt)]})]})]},`${e.videoId}-${s}`))}),o&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 animate-spin"}),"Loading more videos..."]})}),0===r.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Try searching with different keywords"})]})]})}let C=(0,p.J1)`
  query GetHistory {
    history {
      history {
        query
        timestamp
      }
    }
  }
`,S=(0,p.J1)`
  query GetAnalytics {
    analytics {
      analytics {
        query
        count
      }
    }
  }
`,$=(0,p.J1)`
  mutation ClearHistory {
    clearHistory
  }
`;(0,p.J1)`
  mutation ClearAnalytics {
    clearAnalytics
  }
`;let R=(0,x.v)((e,r)=>({analytics:[],totalSearches:0,uniqueQueries:0,isLoading:!1,error:null,setAnalytics:r=>{e({analytics:r,uniqueQueries:r.length,error:null})},setTotalSearches:r=>{e({totalSearches:r})},setUniqueQueries:r=>{e({uniqueQueries:r})},setLoading:r=>{e({isLoading:r})},setError:r=>{e({error:r})},fetchAnalytics:async()=>{e({isLoading:!0,error:null});try{let{data:r}=await f.S.query({query:S}),s=r.analytics.analytics,t=s.reduce((e,r)=>e+r.count,0);e({analytics:s,totalSearches:t,uniqueQueries:s.length,isLoading:!1,error:null})}catch(r){e({isLoading:!1,error:r instanceof Error?r.message:"Failed to load analytics data"})}}}));var L=s(394),A="Progress",[M,_]=function(e,r=[]){let s=[],n=()=>{let r=s.map(e=>a.createContext(e));return function(s){let t=s?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:t}}),[s,t])}};return n.scopeName=e,[function(r,n){let i=a.createContext(n),o=s.length;s=[...s,n];let l=r=>{let{scope:s,children:n,...l}=r,d=s?.[e]?.[o]||i,c=a.useMemo(()=>l,Object.values(l));return(0,t.jsx)(d.Provider,{value:c,children:n})};return l.displayName=r+"Provider",[l,function(s,t){let l=t?.[e]?.[o]||i,d=a.useContext(l);if(d)return d;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=s.reduce((r,{useScope:s,scopeName:t})=>{let a=s(e)[`__scope${t}`];return{...r,...a}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:t}),[t])}};return s.scopeName=r.scopeName,s}(n,...r)]}(A),[T,E]=M(A),H=a.forwardRef((e,r)=>{var s,a;let{__scopeProgress:n,value:i=null,max:o,getValueLabel:l=V,...d}=e;(o||0===o)&&!F(o)&&console.error((s=`${o}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=F(o)?o:100;null===i||Q(i,c)||console.error((a=`${i}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=Q(i,c)?i:null,m=U(u)?l(u,c):void 0;return(0,t.jsx)(T,{scope:n,value:u,max:c,children:(0,t.jsx)(L.sG.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":U(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":Z(u,c),"data-value":u??void 0,"data-max":c,...d,ref:r})})});H.displayName=A;var z="ProgressIndicator",I=a.forwardRef((e,r)=>{let{__scopeProgress:s,...a}=e,n=E(z,s);return(0,t.jsx)(L.sG.div,{"data-state":Z(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});function V(e,r){return`${Math.round(e/r*100)}%`}function Z(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function U(e){return"number"==typeof e}function F(e){return U(e)&&!isNaN(e)&&e>0}function Q(e,r){return U(e)&&!isNaN(e)&&e<=r&&e>=0}I.displayName=z;let G=a.forwardRef(({className:e,value:r,...s},a)=>(0,t.jsx)(H,{ref:a,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,t.jsx)(I,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));function W(){let{analytics:e,totalSearches:r,uniqueQueries:s,isLoading:a,error:n,fetchAnalytics:i}=R();return a?(0,t.jsx)("div",{children:"Loading analytics..."}):n?(0,t.jsxs)("div",{children:["Error loading analytics: ",n]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"Total Searches"})}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:r})})]}),(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"Unique Queries"})}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:s})})]})]}),(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"Search Frequency"})}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:e.query}),(0,t.jsxs)("span",{children:[e.count," searches"]})]}),(0,t.jsx)(G,{value:e.count/r*100})]},e.query))})})]})]})}G.displayName=H.displayName;let B=(0,x.v)((e,r)=>({history:[],isLoading:!1,error:null,setHistory:r=>{e({history:r,error:null})},addHistoryItem:s=>{let t=r().history.filter(e=>e.query.toLowerCase()!==s.query.toLowerCase());e({history:[s,...t].slice(0,50)})},setLoading:r=>{e({isLoading:r})},setError:r=>{e({error:r})},fetchHistory:async()=>{e({isLoading:!0,error:null});try{let{data:r}=await f.S.query({query:C});e({history:r.history.history,isLoading:!1,error:null})}catch(r){e({isLoading:!1,error:r instanceof Error?r.message:"Failed to load search history"})}},clearHistory:async()=>{e({isLoading:!0,error:null});try{await f.S.mutate({mutation:$}),e({history:[],isLoading:!1,error:null})}catch(r){e({isLoading:!1,error:r instanceof Error?r.message:"Failed to clear history"})}}})),D=(0,n.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),J=(0,n.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Y({onViewChange:e}){let{history:r,isLoading:s,error:a,fetchHistory:n,clearHistory:o}=B(),{setQuery:l,performSearch:d}=g(),u=r=>{l(r),d(r,!0),e("search")};return s?(0,t.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(D,{className:"h-5 w-5 animate-spin"}),"Loading history..."]})}):a?(0,t.jsx)(w.Zp,{className:"border-destructive/20",children:(0,t.jsx)(w.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center text-destructive",children:[(0,t.jsxs)("p",{children:["Error loading history: ",a]}),(0,t.jsx)(c.$,{variant:"outline",size:"sm",onClick:n,className:"mt-4",children:"Try Again"})]})})}):(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(w.ZB,{children:"Search History"}),r.length>0&&(0,t.jsxs)(c.$,{variant:"destructive",size:"sm",onClick:o,children:[(0,t.jsx)(J,{className:"h-4 w-4 mr-2"}),"Clear History"]})]}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===r.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(i,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No search history yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Your search history will appear here"})]}):(0,t.jsx)("div",{className:"grid gap-3",children:r.map(e=>(0,t.jsxs)("div",{className:"group flex items-center justify-between p-3 rounded-lg border hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>u(e.query),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium group-hover:text-primary transition-colors",children:e.query}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,m.Y)(e.timestamp)})]})]}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:r=>{r.stopPropagation(),u(e.query)},children:"Search Again"})]},`${e.query}-${e.timestamp}`))})})})]})}function O(){let[e,r]=(0,a.useState)("search"),{hasSearched:s}=g();return(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:["search"!==e&&(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>r("search"),className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Back to Search"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"analytics"===e?"Analytics":"history"===e?"Search History":"Video Search"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(c.$,{variant:"analytics"===e?"default":"outline",size:"sm",onClick:()=>r("analytics"),className:"flex items-center",children:[(0,t.jsx)(l,{className:"h-4 w-4 mr-2"}),"Analytics"]}),(0,t.jsxs)(c.$,{variant:"history"===e?"default":"outline",size:"sm",onClick:()=>r("history"),className:"flex items-center",children:[(0,t.jsx)(d,{className:"h-4 w-4 mr-2"}),"History"]})]})]}),(()=>{switch(e){case"analytics":return(0,t.jsx)(W,{});case"history":return(0,t.jsx)(Y,{onViewChange:r});default:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{}),s?(0,t.jsx)(q,{}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Write something to find"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Enter a search term to find videos"})]})]})}})()]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9225:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(1129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/admin/wk-prj/test-t-youtube/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/admin/wk-prj/test-t-youtube/frontend/app/page.tsx","default")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9650:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l,metadata:()=>o});var t=s(5479),a=s(1388),n=s.n(a);s(5290);var i=s(6872);let o={title:"YouTube Search",description:"Search and analyze YouTube videos"};function l({children:e}){return(0,t.jsx)("html",{lang:"en",children:(0,t.jsx)("body",{className:n().className,children:(0,t.jsx)(i.Providers,{children:e})})})}}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[370,954],()=>s(3006));module.exports=t})();